<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Check</title>
    <script src="https://play.workadventu.re/iframe_api.js"></script>
    <style>
        body { font-family: 'Courier New', monospace; background: #222; color: #0f0; padding: 20px; text-align: center; }
        input { padding: 10px; border: 1px solid #0f0; background: #000; color: #0f0; width: 80%; margin-bottom: 10px; }
        button { padding: 10px 20px; background: #0f0; color: #000; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #fff; }
    </style>
</head>
<body>
    <h3>SECURE ACCESS</h3>
    <p>Masukkan Password String:</p>
    <input type="text" id="passInput" placeholder="Password...">
    <br>
    <button onclick="checkPassword()">UNLOCK</button>
    <p id="msg"></p>

    <script>
        // Password yang benar (bisa di-hardcode di sini atau logic lain)
        const CORRECT_PASSWORD = "CTF{FLAG_123}"; 

        function checkPassword() {
            const input = document.getElementById('passInput').value;
            
            if (input === CORRECT_PASSWORD) {
                // Jika benar, kirim sinyal ke WorkAdventure lewat Variable
                WA.state.saveVariable('room_door_unlocked', true);
                
                document.getElementById('msg').innerText = "ACCESS GRANTED";
                setTimeout(() => {
                    WA.ui.closePopup(); // Tutup popup otomatis
                }, 1000);
            } else {
                document.getElementById('msg').innerText = "ACCESS DENIED";
                document.getElementById('msg').style.color = "red";
            }
        }
    </script>
</body>
</html>